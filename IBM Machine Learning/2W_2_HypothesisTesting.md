**학습목표**  
1) 가설검정 이해  
2) 가설검정을 위한 베이지안 접근 방식 논의  
3) 동전던지기를 예를 이해  

**가설검정**  
가설은 임의분포의 평균과 같은 매개변수에 대한 주장이다.(e.x., 한시간동안 식료품점 손님 추정값)  
먼저 두 개의 가설인 귀무 가설과 대립가설로 시작하고, 문제에 따라 귀무 가설을 결정한다.  
예를 들면, 귀무가설은 '시간당 평균 5명의 사람들이 들어온다', 대립가설은 '5명보다 더 클 수 있다' 이다.  
대립가설은 귀무가설 외의 것들이 될수있다. 5명보다 많거나 구체적으로 그보다 많은 사람수 등이 된다.  
5보다 크거나 작거나 같은 값 중 하나가 덜 구체적이면 일반적으로 그 대안이 되는 반면, null은 특정 값이 된다.  
샘플 데이터를 고려시, 귀무 가설을 받아들일지, 기각하고 대안을 받아들일지 결정을 위해 가설검정을 이용한다.  
귀무가설을 거절한다고 해서 대립가설을 받아들일 수 있는것은 아니다.  
실용적인 목적을 위해 검정통계량에 따라 대립가설이 참이라는 경로를 택하게 될 것이다.  
베이지안 해석에서, 우리는 descision boundary를 얻지 않고 귀무 가설과 대립 가설의 사후 확률을 계산하고,  
후에 liklihood를 비교한다.  

**동전던지기 예제**  
동전 던지기에서 두개의 동전이 있을때 1은 앞면 확률70%, 2는 앞면확률 50%이다.  
이 동전을 보지 않고 10회의 시행을 통해 더 가능성이 높은 동전을 골라본다.  
앞면의 횟수로 1번과 2번 중 예측할 수 있을까? 동전 1과 동전 2에 대해 알고있는 확률을 고려해 볼 때,  
10회의 동전 던지기 중에서 어느 정도의 앞면횟수에 따른 확률 표를 정리할 수 있다.   
![image](https://user-images.githubusercontent.com/40943064/120097164-f3be6480-c169-11eb-9a74-fff94f776725.png)


표를 보면 우리가 앞면이 작을수록 50% 동전이, 앞면이 높을수록 70% 동전일 확률이 높음을 알 수 있다.   
앞면의 수가 높으면, 0.7 편향된 코인을 갖게 될 가능성이 훨씬 더 높아질 것이다.  
미확인 동전을 던질 때 보이는 앞면의 수를 기준으로 **likihood 비율**을 계산할 수 있다.  
앞면이 3회 나왔다면 표에서 3번의 헤드가 나올 확률을 확인해 본다. 1은  세 개의 앞면 확률은 0.117이고,  
2는 0.009로 훨씬 낮다. 따라서 우리는 동전 1이 동전 2보다 3회의 앞면의 확률이 13배 더 높다.  
이 비율을 liklihood ratio라 한다. 귀무 가설과 대립 가설 중 하나가 더 가능성이 높은 비율이다.  

**가설검정:베이지안 해석**  
베이지안 해석에서 논의된 바와 같이, 우리는 각 가설에 대한 prior가 필요하다.  
위와같은 문제와 동일한 가정에서, 다른 확률의 동전에 대한 prior를 알지못하고 0.5로 가정한다고 생각해보자.  
만약 우리가 일반 대중으로부터 동전을 꺼낸다면, 동전에 대한 지식을 바탕으로  
한 사전 분배가 공정한 동전을 소유하기 위한 이전의 분배에 훨씬 더 많은 비중을 두게 될 것이라고 상상할 수 있다.  
일반 대중 앞에 동전을 꺼낸다고 상상해 보면 우리의 코인에 대한 사전 지식이 주어진 경우 Prior는 반반의 확률을 가질 것으로  
weight를 훨씬 두는것이 자연스러운 상상이고 실제로 확률이 동등하지 않은 동전이 존재한다는 사실을 받아들이는 가설을 세우는 것을  
훨씬더 어렵게 한다.  

베이즈 규칙을 적용하기 위해 앞서 가정한 사전정보 P(H1)과 P(H2)는 0.5로 설정한다.  
사후확률분포 혹은 최종적인 추측을 하기위해 prior를 어떻게 사용해야할지 알고 있다. 
가설중의 하나인 P(H1|x)을 볼 수 있다. 여기서 가정인 P(H1)을 0.5로 설정한다.   
확률이 동일한 경우 3개의 앞면이 나올 확률은 얼마일까? 즉, 데이터가 주어진 경우 확률이다.  
그리고 나서 우리는 그것을 우리의 prior와 곱할 것이다. 여기서 prior는 0.5로 설정하였다.   
모든 것은 가능한 모든 가설에서 데이터가 선택될 확률을 넘어설 것이다.  
분모는 상쇄되기 때문에 liklihood 결정을 중요하지 않다.  
따라서 posterior는 본 P(H1)P(H1|x)/P(H2)P(H2|x)가 된다.  
단 여기서 최종 수식과 실제와의 차이점은 P(H1), P(H2)가 상쇄된다는 것이다.  
하지만 우리가 일반 대중으로부터 끌어낸 예를 상상해본다면 
P(H1=0.5)=0.99, P(H2=0.7=0.1)로 정의하는것이 자연스러운 생각이다.  
따라서 H2가 더 가능성이 높기 위해서는 P(x|H2)가 훨씬 높아야 할 것이다.  
이것이 바로 prior가 실제로 적용되는 과정이다.  

앞서 말한 것처럼 liklihood ratio는 prior에 liklihood를 곱하므로 prior에 의존하지 않는다.  
즉, 데이터에 따르면 각 데이터 집합이 3회의 앞면을 선택할 수 있는 가능성을 확인해야 했다.  
그 liklihood ratio는  어떻게 그 prior를 업데이트 하는지 알려줄 것이다.  
그래서 주어진 데이터 집합을 보는 반응으로 prior를 곱할 것이다.  
이를 통해 posterior를 얻는다.  

**정리**  
이부분에서는 대안 가설과 귀무 가설을 사용하여 가설 검정의 몇 가지 기본 사항을 논의하였다.  
가설 시험의 베이지안 형태와 그것이 우리의 데이터가 주어진 우리의 귀무 및 대안의 우도 비율과 함께  
prior에 어떻게 의존할 것인지를 보여주었다.  
마지막으로, 우리는 동전던지기예를 통해 베이지안 형태의 가설 테스트를 이해했다.
